# [prenotaci.aci.it](https://prenotaci.aci.it/)

Questo servizio permette di controllare la dispobilità di appuntamenti su 
[prenotaci.aci.it](https://prenotaci.aci.it/), presso il Pubblico Registro Automobilistico (PRA), 
il quale è gestito da
Automobile Club d'Italia (ACI).
Appena è possibile prenotare l'appuntamento riceverai una mail all'indirizzo di posta utilizzato.

## Utilizzo

Il servizio è utilizzabile con Docker container.
Per prima cosa bisognoa costruire l'immagine.

```bash
docker build -t prenotaci .
```

Bisogna poi configurare le seguenti variabili di ambiente.
- `TELEGRAM_BOT_TOKEN`: toekn del bot Telegram utilizzato per ricevere notifiche.
- `TELEGRAM_CHAT_ID`: chat id di Telegram.
- `USERNAME`: username sito [prenotaci.aci.it](https://prenotaci.aci.it/).
- `PASSWORD`: password sito [prenotaci.aci.it](https://prenotaci.aci.it/).
- `TARGA`: targa del veicolo.
- `TIPO_VEICOLO`: vedi tabella di configurazione.
- `ID_PRATICA`: vedi tabella di configurazione.
- `ID_UFFICIO_PRA`: vedi tabella di configurazione.

E infine lanciare il docker container.

```bash
docker run \
    -e EMAIL=send@notification.com \
    -e USERNAME=awesome@people.com \
    -e PASSWORD=secret \
    -e TARGA=AA000AA \
    -e TIPO_VEICOLO=A \
    -e ID_PRATICA=33 \
    -e ID_UFFICIO_PRA=317 \
    prenotaci
```



## Tabelle di configurazione

Tipo veicolo | `TIPO_VEICOLO`
------ | ------
Autoveicolo | `A`
Motoveicolo | `M`

Pratica Autoveicolo | `ID_PRATICA`
------ | ------
ANNOTARE LA SOSPENSIONE DELLA CARTA DI CIRCOLAZIONE | `80`
CANCELLARE SITUAZIONI DI CONDIZIONE O CLAUSOLA | `30`
RETTIFICARE DEI DATI - CAMBIO DATA ATTO | `86`
RETTIFICARE DEI DATI - CAMBIO DATI ACCESSORI | `87`
CESSARE DALLA CIRCOLAZIONE UN VEICOLO - PER ESPORTAZIONE VERSO UNIONE EUROPEA | `57`
CESSARE DALLA CIRCOLAZIONE UN VEICOLO - PER ESPORTAZIONE EXTRA UNIONE EUROPEA | `56`
CESSARE DALLA CIRCOLAZIONE UN VEICOLO - PER CAMBIO CATEGORIA DEL VEICOLO | `59`
CESSARE DALLA CIRCOLAZIONE UN VEICOLO - PER CONSERVAZIONE NEI MUSEI ARTICOLO 60 CODICE DELLA STRADA | `59`
CESSARE DALLA CIRCOLAZIONE UN VEICOLO - PER DISTRUZIONE O INCENDIO | `59`
CESSARE DALLA CIRCOLAZIONE UN VEICOLO - PER TRASFERIMENTO ALTRO REGISTRO | `63`
ISCRIVERE, ANNOTARE, CANCELLARE LE IPOTECHE - ISCRIZIONE CONVENZIONALE | `94`
ISCRIVERE, ANNOTARE, CANCELLARE LE IPOTECHE - ISCRIZIONE CONVENZIONE ARTIGIANA | `94`
ISCRIVERE, ANNOTARE, CANCELLARE LE IPOTECHE - ISCRIZIONE CREDITO ERARIALE | `94`
ISCRIVERE, ANNOTARE, CANCELLARE LE IPOTECHE - ISCRIZIONE GIUDIZIALE | `94`
ISCRIVERE, ANNOTARE, CANCELLARE LE IPOTECHE - ISCRIZIONE RESIDUO PREZZO | `94`
ISCRIVERE, ANNOTARE, CANCELLARE LE IPOTECHE - ISCRIZIONE SOVVENZIONE PREZZO | `94`
ISCRIVERE, ANNOTARE, CANCELLARE LE IPOTECHE - ISCRIZIONE SPECIALE ARTIGIANO | `94`
ISCRIVERE, ANNOTARE, CANCELLARE LE IPOTECHE - CANCELLAZIONE | `94`
ISCRIVERE, ANNOTARE, CANCELLARE LE IPOTECHE - RIDUZIONE | `94`
ISCRIVERE, ANNOTARE, CANCELLARE LE IPOTECHE - APPOSIZIONE VISTO SU EFFETTI | `94`
ISCRIVERE, ANNOTARE, CANCELLARE LE IPOTECHE - CESSIONE | `94`
ISCRIVERE, ANNOTARE, CANCELLARE LE IPOTECHE - SURROGA | `94`
ISCRIVERE, ANNOTARE, CANCELLARE LE IPOTECHE - RETTIFICA IPOTECA O PRIVILEGIO | `94`
ISCRIVERE, ANNOTARE, CANCELLARE LE IPOTECHE - RINNOVO ISCRIZIONE | `94`
ISCRIVERE, ANNOTARE, CANCELLARE LE IPOTECHE - POSTERGAZIONE | `94`
RETTIFICARE DEI DATI - RETTIFICA DELLA PROPRIETA' - PER USO PROPRIO O PRIVATO | `82`
RETTIFICARE DEI DATI - RETTIFICA DELLA PROPRIETA' - CON LOCAZIONE | `83`
RETTIFICARE DEI DATI - RETTIFICA DELLA PROPRIETA' - CON PATTO RISERVATO DOMINIO | `84`
RETTIFICARE DEI DATI - RETTIFICA DELLA PROPRIETA' - CON USUFRUTTO | `85`
EFFETTUARE UN TRASFERIMENTO PROPRIETA' - USO DEL VEICOLO PROPRIO O PRIVATO - PER USO PROPRIO O PRIVATO | `33`
EFFETTUARE UN TRASFERIMENTO PROPRIETA' - USO DEL VEICOLO PROPRIO O PRIVATO - PER SUCCESSIONE EREDITARIA | `38`
EFFETTUARE UN TRASFERIMENTO PROPRIETA' - USO DEL VEICOLO PROPRIO O PRIVATO - CON SALTO DI CONTINUITA' | `48`
EFFETTUARE UN TRASFERIMENTO PROPRIETA' - USO DEL VEICOLO PROPRIO O PRIVATO - CON RIPRISTINO CONTINUITA' | `39`
EFFETTUARE UN TRASFERIMENTO PROPRIETA' - USO DEL VEICOLO PROPRIO O PRIVATO - A TUTELA DEL VENDITORE | `49`

Pratica Motoveicolo | `ID_PRATICA`
------ | ------
ANNOTARE LA SOSPENSIONE DELLA CARTA DI CIRCOLAZIONE | `80`
CANCELLARE SITUAZIONI DI CONDIZIONE O CLAUSOLA | `30`
CESSARE DALLA CIRCOLAZIONE UN VEICOLO - PER ESPORTAZIONE VERSO UNIONE EUROPEA | `57`
CESSARE DALLA CIRCOLAZIONE UN VEICOLO - PER ESPORTAZIONE EXTRA UNIONE EUROPEA | `56`
CESSARE DALLA CIRCOLAZIONE UN VEICOLO - PER CAMBIO CATEGORIA DEL VEICOLO | `59`
CESSARE DALLA CIRCOLAZIONE UN VEICOLO - PER CONSERVAZIONE NEI MUSEI ARTICOLO 60 CODICE DELLA STRADA | `59`
CESSARE DALLA CIRCOLAZIONE UN VEICOLO - PER DISTRUZIONE O INCENDIO | `59`
CESSARE DALLA CIRCOLAZIONE UN VEICOLO - PER TRASFERIMENTO ALTRO REGISTRO | `63`
ISCRIVERE, ANNOTARE, CANCELLARE LE IPOTECHE - ISCRIZIONE CONVENZIONALE | `94`
ISCRIVERE, ANNOTARE, CANCELLARE LE IPOTECHE - ISCRIZIONE CONVENZIONE ARTIGIANA | `94`
ISCRIVERE, ANNOTARE, CANCELLARE LE IPOTECHE - ISCRIZIONE CREDITO ERARIALE | `94`
ISCRIVERE, ANNOTARE, CANCELLARE LE IPOTECHE - ISCRIZIONE GIUDIZIALE | `94`
ISCRIVERE, ANNOTARE, CANCELLARE LE IPOTECHE - ISCRIZIONE RESIDUO PREZZO | `94`
ISCRIVERE, ANNOTARE, CANCELLARE LE IPOTECHE - ISCRIZIONE SOVVENZIONE PREZZO | `94`
ISCRIVERE, ANNOTARE, CANCELLARE LE IPOTECHE - ISCRIZIONE SPECIALE ARTIGIANO | `94`
ISCRIVERE, ANNOTARE, CANCELLARE LE IPOTECHE - CANCELLAZIONE | `94`
ISCRIVERE, ANNOTARE, CANCELLARE LE IPOTECHE - RIDUZIONE | `94`
ISCRIVERE, ANNOTARE, CANCELLARE LE IPOTECHE - APPOSIZIONE VISTO SU EFFETTI | `94`
ISCRIVERE, ANNOTARE, CANCELLARE LE IPOTECHE - CESSIONE | `94`
ISCRIVERE, ANNOTARE, CANCELLARE LE IPOTECHE - SURROGA | `94`
ISCRIVERE, ANNOTARE, CANCELLARE LE IPOTECHE - RETTIFICA IPOTECA O PRIVILEGIO | `94`
ISCRIVERE, ANNOTARE, CANCELLARE LE IPOTECHE - RINNOVO ISCRIZIONE | `94`
ISCRIVERE, ANNOTARE, CANCELLARE LE IPOTECHE - POSTERGAZIONE | `94`
RETTIFICARE DEI DATI - CAMBIO DATA ATTO | `86`
RETTIFICARE DEI DATI - CAMBIO DATI ACCESSORI | `87`
EFFETTUARE UN TRASFERIMENTO PROPRIETA' - USO DEL VEICOLO PROPRIO O PRIVATO - PER USO PROPRIO O PRIVATO | `33`
EFFETTUARE UN TRASFERIMENTO PROPRIETA' - USO DEL VEICOLO PROPRIO O PRIVATO - PER SUCCESSIONE EREDITARIA | `38`
EFFETTUARE UN TRASFERIMENTO PROPRIETA' - USO DEL VEICOLO PROPRIO O PRIVATO - CON SALTO DI CONTINUITA' | `48`
EFFETTUARE UN TRASFERIMENTO PROPRIETA' - USO DEL VEICOLO PROPRIO O PRIVATO - CON RIPRISTINO CONTINUITA' | `39`
EFFETTUARE UN TRASFERIMENTO PROPRIETA' - USO DEL VEICOLO PROPRIO O PRIVATO - A TUTELA DEL VENDITORE | `49`
RETTIFICARE DEI DATI - RETTIFICA DELLA PROPRIETA' - PER USO PROPRIO O PRIVATO | `82`
RETTIFICARE DEI DATI - RETTIFICA DELLA PROPRIETA' - CON LOCAZIONE | `83`
RETTIFICARE DEI DATI - RETTIFICA DELLA PROPRIETA' - CON PATTO RISERVATO DOMINIO | `84`
RETTIFICARE DEI DATI - RETTIFICA DELLA PROPRIETA' - CON USUFRUTTO | `85`

Città | `ID_UFFICIO_PRA`
------ | ------
AGRIGENTO | `268`
ALESSANDRIA | `269`
ANCONA | `270`
AOSTA | `271`
AREZZO | `274`
ASCOLI PICENO | `272`
ASTI | `275`
AVELLINO | `276`
BARI | `277`
BELLUNO | `280`
BENEVENTO | `281`
BERGAMO | `278`
BIELLA | `279`
BOLOGNA | `282`
BOLZANO | `285`
BRESCIA | `284`
BRINDISI | `283`
CAGLIARI | `286`
CALTANISSETTA | `290`
CAMPOBASSO | `287`
CASERTA | `288`
CATANIA | `295`
CATANZARO | `296`
CHIETI | `289`
COMO | `292`
COSENZA | `294`
CREMONA | `293`
CROTONE | `308`
CUNEO | `291`
ENNA | `297`
FERRARA | `298`
FIRENZE | `300`
FOGGIA | `299`
FORLI' CESENA | `301`
FROSINONE | `302`
GENOVA | `303`
GORIZIA | `304`
GROSSETO | `305`
IMPERIA | `306`
ISERNIA | `307`
L'AQUILA | `273`
LA SPEZIA | `350`
LATINA | `313`
LECCE | `310`
LECCO | `309`
LIVORNO | `311`
LODI | `312`
LUCCA | `314`
MACERATA | `315`
MANTOVA | `318`
MASSA CARRARA | `320`
MATERA | `321`
MESSINA | `316`
MILANO | `317`
MODENA | `319`
NAPOLI | `322`
NOVARA | `323`
NUORO | `324`
OGLIASTRA - Nuoro | `409`
OLBIA TEMPIO - Sassari | `407`
ORISTANO | `325`
PADOVA | `328`
PALERMO | `326`
PARMA | `334`
PAVIA | `337`
PERUGIA | `330`
PESARO | `335`
PESCARA | `329`
PIACENZA | `327`
PISA | `331`
PISTOIA | `336`
PORDENONE | `332`
POTENZA | `338`
PRATO | `333`
RAGUSA | `342`
RAVENNA | `339`
REGGIO CALABRIA | `340`
REGGIO EMILIA | `341`
RIETI | `343`
RIMINI | `345`
ROMA | `344`
ROVIGO | `346`
SALERNO | `347`
SASSARI | `352`
SAVONA | `353`
SIENA | `348`
SIRACUSA | `351`
SONDRIO | `349`
TARANTO | `354`
TERAMO | `355`
TERNI | `359`
TORINO | `357`
TRAPANI | `358`
TRENTO | `356`
TREVISO | `361`
TRIESTE | `360`
UDINE | `362`
VARESE | `363`
VENEZIA | `366`
VERBANO-CUSIO-OSSOLA | `364`
VERCELLI | `365`
VERONA | `368`
VIBO VALENTIA | `370`
VICENZA | `367`
VITERBO | `369`

